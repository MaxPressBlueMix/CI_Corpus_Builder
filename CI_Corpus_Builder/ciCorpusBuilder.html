<head> 
	<title>CI Corpus Builder</title>
	</head>
<body>
  <h1><center>Maximum Press CI Corpus Builder</center></h1>
  <center>------------Manage Corpora and Corpus Documents-------------</center><br>
  {{> status}}
  {{> hello}}
  {{> zips}}
  {{> results}}
</body>

<template name="hello">
	<form name="uploadForm" action="upload" method="post" enctype="multipart/form-data">
	
	<fieldset>
        <legend>Select, add, or delete a corpus</legend>
    
   		<table>
			<tr>
				<td>
					<input class='corpName' type="text" id="newCorpus" name="newCorpus" value={{firstCorpus.name}} />
					</td>
				<td>
					<button id="addButton" name="addButton" disabled>Add Corpus</button>
					</td>
				</tr>
			<tr>
				<td>
					<select name="corpusList" id="corpusList">
						{{#each corpusNames}}
					  		<option>{{name}}</option>
					  		{{/each}}
						</select>
					</td>
				<td>
					<button id="deleteButton" name="deleteButton">Delete Corpus</button>
					</td>
				</tr>
			</table>
    </fieldset>

	<br> <br>		

	<fieldset>
        <legend>Upload a .zip file</legend>

	    <input type="file" name="zipfile" accept="application/zip" class='half-width-input' /><br><br>
		<button id="zipButton" name="uploadButton" disabled>Upload</button>
    	</fieldset>
	</form>
	</template>
	
<template name="zips">
	{{#if corpdocs}}
		<br><b>{{zipcount}} files will go into the {{corpusName}} corpus:</b><br><br>
		<small>
			<table class="ziptable">
				{{#each corpdocs}}
					<tr><td><b>File Name:</b></td><td>{{filename}}</td></tr>
					<tr><td><b>URL:</b></td><td>{{url}}</td></tr>
					<tr><td><b>Doc ID:</b></td><td>{{docId}}</td></tr>
					<tr><td><b>Label:</b></td><td>{{label}}</td></tr>
					<tr><td><b>Contents:</b></td><td><div id="toobig" title="{{data}}">{{data}}</div></td></tr>
					<tr><td colspan=2>&nbsp;</td></tr>
					{{/each}}
				</table>
			</small>
		{{/if}}
	</template>	

<template name="status">
	<div align="right">
		<div align="center" style="background-color:{{statusColor}}; width:20%; min-width: 180px; font-size: 150%;">
			{{stat}}
			</div>
		</div>
	</template>	

<template name="results">
{{#if showresults}}
<br><br><b>{{count}} files loaded to {{corpusName}}:</b><br><br>
	<table border=0>
		{{#each result}}
			<tr><td>{{label}}</td></tr>
			{{/each}}
		</table>
	{{/if}}
	</template>
	